'use strict';(function(a){function B(a,b){var d;document.createEvent?(d=document.createEvent("HTMLEvents"),d.initEvent(b,!0,!0)):document.createEventObject&&(d=document.createEventObject(),d.eventType=b);d.eventName=b;a.dispatchEvent?a.dispatchEvent(d):a.fireEvent&&htmlEvents["on"+b]?a.fireEvent("on"+d.eventType,d):a[b]?a[b]():a["on"+b]&&a["on"+b]()}function w(a){var b=a.hasClass("wpf_form_scroll");a.removeClass("wpf_form_scroll");a.trigger("submit");b&&a.addClass("wpf_form_scroll")}var n=!1,x=300,
y=function(a,b,d){b&&!0===b()?d&&d():(b=document.createElement("script"),b.setAttribute("async","async"),b.onload=function(){d&&d();this.getAttribute("id")},document.head.appendChild(b),b.setAttribute("src",a))},r=function(a,b){0===a.length?b():y(a[0][0],a[0][1],function(){a.shift();r(a,b)})},C=function(c){var b=wpf.includes_url+"js/jquery/",d=[[b+"ui/core.min.js",function(){return"object"===typeof a.ui}],[b+"ui/mouse.min.js",function(){return"function"===typeof a.ui.mouse}],[b+"jquery.ui.touch-punch.js",
function(){return!("ontouchstart"in window)}],[b+"ui/slider.min.js",function(){return"function"===typeof a.ui.slider}]];wpf.load_jquery_ui_widget&&d.unshift([b+"ui/widget.min.js",function(){return"function"===typeof a.widget}]);r(d,function(){c()})},E=function(c){a.fn.slider&&a(".wpf_slider",c).each(function(){var b=a(this).closest(".wpf_item"),d=b.find(".wpf_price_from"),c=b.find(".wpf_price_to"),e=parseInt(a(this).data("min")),h=parseInt(a(this).data("max")),l=parseFloat(a(this).data("step")),k=
b.closest("form"),g=parseInt(d.val()),m=parseInt(c.val()),t=b.find(".wpf-price-min"),D=b.find(".wpf-price-max");e===parseInt(e,10)&&h===parseInt(h,10)&&(g=g?g:e,m=m?m:h,a(this).slider({range:!0,min:e,step:isNaN(l)||0>=l?1:l,max:h,values:[g,m],slide:function(a,b){t.text(b.values[0]);D.text(b.values[1])},stop:function(a,b){d.val(b.values[0]);c.val(b.values[1]);k.hasClass("wpf_submit_on_change")&&k.trigger("submit")}}),a(this).slider().on("slidechange",function(b,d){a(d.handle).find(".wpf_tooltip_amount").html(d.value)}))})},
F=function(c){a("body").off("click.wpfGroupToggle").on("click.wpfGroupToggle",".wpf_grouped_label",function(b){var d=a(this).next(".wpf_items_group"),c=a(this);b.preventDefault();d.is(":visible")?d.slideUp(function(){c.addClass("wpf_grouped_close")}):d.slideDown(function(){c.removeClass("wpf_grouped_close")})});a(".wpf_items_grouped:not(.wpf_layout_horizontal) .wpf_item_name",c).each(function(){a(this).closest(".wpf_item_onsale, .wpf_item_instock").length||a(this).addClass("wpf_grouped_label").trigger("click")})},
u=function(c=null){var b=a(".wpf-search-container",c).first();0===b.length&&(b=a(".wc-products.loops-wrapper",c).parent(),0===b.length&&(b=a(".woocommerce ul.products",c).parent(),0===b.length&&(b=a("ul.products",c).parent(),0===b.length&&(b=a(".post",c).first()))));return b.first().addClass("wpf-search-container")},H=function(){var c,b;a("body").off("submit.wpfForm").on("submit.wpfForm",".wpf_form",function(d){d.preventDefault();var f=a(this),e=u();d=f.serializeArray();var h={},l=f.hasClass("wpf_form_scroll");
for(g in d)if(d[g].value.trim()){var k=d[g].name.replace("[]","");h[k]=h[k]?h[k]+(","+d[g].value):d[g].value}n&&(h.append=1);f.find('input[name="wpf_page"]').val("");if(e.length){var g=e[0].getElementsByClassName("products");c=c||a(".products",e).data("isotope")||"function"===typeof Isotope&&0<g.length&&Isotope.data(g[0]);b=b||"object"===typeof c&&"options"in c}f.hasClass("wpf_form_ajax")&&!e.length&&f.removeClass("wpf_form_ajax").attr("action",f.attr("data-shop"));var m=new URL(f.prop("action"));
for(const a in h)m.searchParams.set(a,h[a]);if(!f.hasClass("wpf_form_ajax"))return window.location=m.toString(),!1;a.ajax({url:m.toString(),type:"GET",beforeSend:function(){document.body.classList.add("wpf_loading");f.addClass("wpf-search-submit");e.addClass("wpf-container-wait")},complete:function(){document.body.classList.remove("wpf_loading");f.removeClass("wpf-search-submit");e.removeClass("wpf-container-wait")},success:function(d){if(d){history.replaceState({},null,m.toString());var g=e,k=null,
t=a(".products",e).attr("class");d=a(d);var v=u(d);e.data("slug",f.data("slug"));a.event.trigger("wpf_ajax_before_replace");n?(k=v.find(".product"),k.addClass("wpf_transient_product").removeClass("first last"),a(".products",e).first().append(k),g=t.match(/columns-(\d)/),null!==g&&(g=parseInt(g[1]),a(".products",e).first().find(".product:nth-child("+g+"n+1)").addClass("first").end().find(".product:nth-child("+g+"n)").addClass("last")),g=d.find(".wpf_infinity a"),0<g.length&&a(".wpf_infinity a",e).data({current:g.data("current"),
max:g.data("max")}),e.removeClass("wpf-infnitiy-scroll"),g=k.first(),delete h.append,setTimeout(function(){n=!1},200)):(a(".wpf-pagination").remove(),v.find(".product").length?(e.empty().append(v.removeAttr("class")),z(e)):e.empty().append(f.find(".wpf-no-products-found").clone().show()));b&&a.fn.isotope?"function"===typeof c.appended&&null!==k&&c.appended(k):l&&G(g);null!==k&&k.addClass("wpf_transient_end_product");void 0!==window.wp&&void 0!==window.wp.mediaelement&&window.wp.mediaelement.initialize();
a.event.trigger("wpf_ajax_success");B(window,"resize")}}})})},G=function(c){0<c.length&&a("html,body").animate({scrollTop:c.offset().top-a("#wpadminbar").outerHeight(!0)-10},1E3)},p=a(),q=function(c,b){p.length||(p=u());if(!n&&(b||window.scrollY>p.offset().top+p.outerHeight()-x||window.innerHeight+window.pageYOffset>=document.body.offsetHeight)){c=a(".wpf-search-container");var d=a(".wpf_infinity a",c),f=a(".wpf_form_"+c.data("slug"));f.length||(f=a(".wpf_form:first"));if(f.length){var e=d.data("current");
e<=d.data("max")&&(f.find('input[name="wpf_page"]').val(e),n=!0,b||c.addClass("wpf-infnitiy-scroll"),w(f),e+1>d.data("max")&&(a(".wpf_infinity").remove(),b||a(this).off("scroll",q)))}}},I=function(){function c(a){var b=parseInt(a.text());if(!b){b=parseInt(a.closest(".woocommerce-pagination,.pagenav").find(".current").text());a.hasClass("next")?++b:--b;var c=/(?<=paged=)[^\bs=]+/;!b&&c.test(a.attr("href"))&&(b=a.attr("href").match(c)[0])}return b}if(0<a(".wpf_infinity_auto").length)a("#load-more").remove(),
a(window).off("scroll",q).on("scroll",q);else if(0<a(".wpf_infinity").length)a(".wpf_infinity").closest(".wpf-hide-pagination").removeClass("wpf-hide-pagination"),a("#load-more").remove(),a("body").off("click.wpfInfinity").on("click.wpfInfinity",".wpf_infinity a",function(a){a.preventDefault();a.stopPropagation();q(a,1)});else a("body").off("click.wpfPagination").on("click.wpfPagination",".wpf-pagination a,.woocommerce-pagination a",function(b){if("1"==(new URL(window.location.href)).searchParams.get("wpf")){var d=
a(this).closest(".wpf-search-container").data("slug");d=a(".wpf_form_"+d);0<d.length&&0<d.find('input[name="wpf_page"]').length&&(b.preventDefault(),d.find('input[name="wpf_page"]').val(c(a(this))),w(d))}})},J=function(c){var b=wpf.includes_url+"js/jquery/ui/",d=[[b+"core.min.js",function(){return"object"===typeof a.ui}],[b+"position.min.js",function(){return"object"===typeof a.ui.position}],[b+"menu.min.js",function(){return"function"===typeof a.ui.menu}],[b+"autocomplete.min.js",function(){return"function"===
typeof a.ui.autocomplete}]];wpf.load_jquery_ui_widget&&d.unshift([b+"widget.min.js",function(){return"function"===typeof a.widget}]);r(d,function(){c()})},K=function(c){if(a.fn.autocomplete){var b=[];a(".wpf_autocomplete input",c).each(function(){var d=a(this),c=0<d.closest(".wpf_item_sku").length?"sku":"title",e=d.next(".wpf-search-wait"),h=d.closest("form"),l=h.hasClass("wpf_submit_on_change");b[c]=[];a(this).autocomplete({minLength:0,classes:{"ui-autocomplete":"highlight"},source:function(d,f){var g=
a.trim(d.term);l&&0===g.length&&0===d.term.length&&h.trigger("submit");1>g.length||(d.term=g,g=g.toLowerCase(),g in b[c]?f(b[c][g]):(e.show(),d.key=c,d.action="wpf_autocomplete",a.post(wpf.ajaxurl,d,function(a,d,h){e.hide();for(const b in a){d=a[b];h=a[b].label;var k=document.createElement("textarea");k.innerHTML=h;d.label=k.innerText}b[c][g]=a;f(a)},"json")))},select:function(a,b){a:{try{new URL(b.item.value)}catch(m){a=!1;break a}a=!0}a?window.location=b.item.value:(d.val(b.item.value),l&&h.trigger("submit"));
return!1}}).on("focus",function(){0<d.val().trim().length&&a(this).autocomplete("search")}).autocomplete("widget").addClass("wpf_ui_autocomplete")})}},L=function(){function c(b,c){c=c.closest(".wpf-search-container").data("slug");c=a(".wpf_form_"+c);0<c.length&&0<c.find('input[name="orderby"]').length&&(c.find('input[name="orderby"]').val(b),c.trigger("submit"))}const b=a(".wpf-search-container");b.on("form.woocommerce-ordering","submit",function(b){b.preventDefault();c(a(this).find("select").val(),
a(this))});b.find("select.orderby").on("change",function(b){c(a(this).val(),a(this))});b.data("slug")||b.data("slug",a(".wpf_form").last().data("slug"))},M=function(c){0<a(".wpf_submit_on_change",c).length&&a(".wpf_submit_on_change",c).each(function(){var b=a(this);b.find('input[type!="text"],select').on("change",function(c){"price"==a(this).attr("name")&&a(this).is(":checked")&&(a(".wpf_price_range label").removeClass("active"),a(this).next("label").addClass("active"));b.trigger("submit")});b.find(".wpf_pa_link").on("click",
function(b){b.preventDefault();a(this).find("input").prop("checked",!0).trigger("change")})})},N=function(c){var b=a(".wpf_layout_horizontal",c);if(0<b.length){A(b);b.find(".wpf_item:not(.wpf_item_onsale):not(.wpf_item_instock)").hover(function(){a(this).children(".wpf_items_group").stop().fadeIn()},function(){var b=a(this);if(0===b.closest(".wpf-search-submit").length){var d=!0;a(".wpf_ui_autocomplete",c).each(function(){if(a(this).is(":hover"))return d=!1});d&&b.children(".wpf_items_group").stop().fadeOut()}});
navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/)&&b.find(".wpf_item:not(.wpf_item_onsale):not(.wpf_item_instock) .wpf_item_name").click(function(){var b=a(this).parent(),c=b.children(".wpf_items_group").is(":visible"),d=b.hasClass("wpf_touched");c&&!d?(b.addClass("wpf_touch_tap"),b.trigger("mouseleave")):c||d?d&&b.removeClass("wpf_touched"):(b.removeClass("wpf_touch_tap"),b.trigger("mouseenter"),b.removeClass("wpf_touched"))});
var d;a(window).resize(function(a){a.isTrigger||(clearTimeout(d),d=setTimeout(function(){A(b)},500))})}},A=function(c){c.each(function(){var b=a(this),c=b.find(".wpf_items_group"),f=Math.ceil(c.length/2),e=c.last().closest(".wpf_item"),h=e.offset().left;c.each(function(){var b=a(this).closest(".wpf_item");h<b.offset().left&&(e=b,h=b.offset().left)});var l=c.first().closest(".wpf_item").offset().left-2,k=h+e.outerWidth(!0);h=e=null;c.each(function(c){var d=a(this).closest(".wpf_item"),e=d.offset().left;
1E3<screen.width?(a(this).css("left",""),c+1>=f?a(this).removeClass("wpf_left_tab").addClass("wpf_right_tab").outerWidth(Math.round(e+d.width()-l)):a(this).removeClass("wpf_right_tab").addClass("wpf_left_tab").outerWidth(Math.round(k-e))):a(this).removeClass("wpf_right_tab").addClass("wpf_left_tab").outerWidth(Math.round(b.width())).css("left",-1*(e-b.offset().left))})})},O=function(c){y(wpf.url+"js/select2.min.js",function(){return"function"===typeof a.fn.select2},function(){c()})},P=function(c){function b(a,
b){b=a.find('[value="'+b+'"]').text();a.next(".select2").find('[title="'+b+'"]').addClass("wpf_disabled")}a.fn.select2&&a(".wpf_form",c).find("select").each(function(){var c=a(this),f=c.prop("multiple"),e=f?c.data("selected"):!1;c.select2({dir:wpf.rtl?"rtl":"ltr",minimumResultsForSearch:10,dropdownCssClass:"wpf_selectbox",allowClear:!e&&f,placeholder:f?"":!1});e&&f&&(b(c,e),c.on("change",function(a){b(c,e)}))})},Q=function(c){a(".wpf_reset_btn",c).each(function(){this.addEventListener("click",function(b){b.preventDefault();
b=b.target;var c=b.closest(".wpf_item");c=null===c?b.closest(".wpf_form"):c;for(var f=c.querySelectorAll("input,select"),e=f.length-1;0<=e;e--)if(!f[e].hasAttribute("readonly"))if("INPUT"===f[e].tagName)switch(f[e].type){case "text":f[e].value="";break;case "radio":case "checkbox":f[e].checked=!1}else f[e].selectedIndex=0,a(f[e]).val(null).trigger("change");a(c).find(".wpf_slider").each(function(){var b=a(this),c=b.data("min"),d=b.data("max");b.siblings(".wpf_price_from").val(c);b.siblings(".wpf_price_to").val(d);
b.closest(".wpf_item").find(".wpf-price-min").text(c).end().find(".wpf-price-max").text(d);b.slider("values",0,c);b.slider("values",1,d)});a(b.closest(".wpf_form")).trigger("submit")})})},R=function(c){if(window.location.href.includes("wpf=")){const b=c.hasClass("wpf-search-container")?c:c.find(".wpf-search-container");a(".woocommerce-pagination",b).each(function(){a(this).closest(".wpf-pagination").length||a(this).addClass("wpf-hide")})}a(".wpf-pagination",c).each(function(){a(this).insertAfter(a(this).parent())})},
z=function(c){c=c||a("body");a(".wpf_form",c).css("visibility","visible");N(c);F(c);!a(".wpf_form",c).find("select").length||"ontouchstart"in window||0<navigator.msMaxTouchPoints||O(function(){P(c)});a(".wpf_slider",c).length&&C(function(){E(c)});x=a(".wpf_form").data("infinitybuffer");I();L();M(c);a(".wpf_autocomplete input",c).length&&J(function(){K(c)});H();Q(c);R(c)};window.addEventListener("load",function(){if(0<a(".wpf_form").length){a("body").addClass("woocommerce");var c,b=document.querySelector(".et_pb_module.et_pb_shop .woocommerce"),
d=document.querySelector(".elementor-element.elementor-wc-products");null!==b?(b.className+=" wpf-search-container",(b=b.querySelector("ul.products"))&&(c=b.className.match(/columns-(\d+)/))):null!==d?(d.className+=" wpf-search-container",c=d.querySelector("ul.products").className.match(/columns-(\d+)/)):(b=document.querySelector(".wc-products"),null!==b?c=b.className.match(/grid(\d+)/):(b=document.querySelector(".woocommerce > .products"),null!==b&&(c=b.className.match(/columns-(\d+)/),c=null!==
c?c:b.parentElement.className.match(/columns-(\d+)/))));null!==c&&void 0!=c&&(document.querySelector('[name="wpf_cols"]').value=c[1]);z()}},{once:!0,passive:!0})})(jQuery);
